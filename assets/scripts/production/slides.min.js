function getParameterByName(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}var Slider=function(){function t(t){this.par=document.querySelector(".wrap"),this.el=document.querySelector(t),this.slides=this.el.querySelectorAll(".slide"),this.slideContent=this.el.querySelectorAll(".content"),this.arrows=document.querySelectorAll(".arrows svg"),this.w=window,this.baseURL=this.w.location.protocol+"//"+this.w.location.host+this.w.location.pathname,ARROWS={LEFT:this.par.querySelector(".left"),RIGHT:this.par.querySelector(".right")},CLASSLIST={ACTIVE:"active"},KEY={LEFT:37,RIGHT:39},this.init()}return t.prototype.init=function(){for(var t=this.w.innerHeight,e=[],i=0;i<this.slideContent.length;i++){var s=this.slideContent[i].offsetHeight;t>=s?(this.slides[i].style.height=t+"px",this.slides[i].setAttribute("data-height",t),e.push(t)):(this.slides[i].style.height=s+"px",this.slides[i].setAttribute("data-height",s),e.push(s));for(var o=0,r=0;r<e.length;r++)o+=e[r];o-=e[i],this.slides[i].setAttribute("data-offset",o)}this.par.style.height=e[0]+"px",this.setSlideParam()},t.prototype.setSlideParam=function(){var t,e=getParameterByName("slide");if(""===e)t=this.slides[0],this.w.history.replaceState({},"",this.baseURL+"?slide=1"),t.classList.add(CLASSLIST.ACTIVE);else{t=this.slides[e-1];var i=t.getAttribute("data-height"),s=t.getAttribute("data-offset");t.classList.add("active"),this.el.style.marginTop="-"+s+"px",this.par.style.height=i+"px"}this.setArrows(t)},t.prototype.setArrows=function(t){var e=this,i=this.slides.length,s=t.getAttribute("data-count");1==s?(ARROWS.LEFT.classList.remove(CLASSLIST.ACTIVE),ARROWS.RIGHT.classList.add(CLASSLIST.ACTIVE)):s==this.slides.length?(ARROWS.LEFT.classList.add(CLASSLIST.ACTIVE),ARROWS.RIGHT.classList.remove(CLASSLIST.ACTIVE)):(ARROWS.LEFT.classList.add(CLASSLIST.ACTIVE),ARROWS.RIGHT.classList.add(CLASSLIST.ACTIVE)),document.onkeydown=function(t){t.keyCode==KEY.LEFT||t.which==KEY.LEFT?s>1&&e.moveLeft(s):(t.keyCode==KEY.RIGHT||t.which==KEY.RIGHT)&&i>s&&e.moveRight(s)},document.getElementById("arrow-left").onclick=function(){s>1&&e.moveLeft(s)},document.getElementById("arrow-right").onclick=function(){i>s&&e.moveRight(s)}},t.prototype.moveLeft=function(t){nextSlideCount=parseInt(t)-1,this.slides[t-1].classList.remove(CLASSLIST.ACTIVE),this.animateSlides(nextSlideCount)},t.prototype.moveRight=function(t){nextSlideCount=parseInt(t)+1,this.slides[t-1].classList.remove(CLASSLIST.ACTIVE),this.animateSlides(nextSlideCount)},t.prototype.animateSlides=function(t){var e=this.slides[t-1],i=e.getAttribute("data-offset"),s=e.getAttribute("data-height");this.el.style.marginTop="-"+i+"px",this.par.style.height=s+"px",this.w.history.replaceState({},"",this.baseURL+"?slide="+t),this.setArrows(e)},t}();document.addEventListener("DOMContentLoaded",function(){new Slider(".slideshow")}),window.addEventListener("resize",function(){new Slider(".slideshow")});
function getParameterByName(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),s=e.exec(location.search);return null===s?"":decodeURIComponent(s[1].replace(/\+/g," "))}var Slider=function(){function t(t){this.par=document.querySelector(".wrap"),this.el=document.querySelector(t),this.slides=this.el.querySelectorAll(".slide"),this.slideContent=this.el.querySelectorAll(".content"),this.arrows=document.querySelectorAll(".arrows svg"),this.w=window,this.baseURL=this.w.location.protocol+"//"+this.w.location.host+this.w.location.pathname,ARROWS={LEFT:this.par.querySelector(".left"),RIGHT:this.par.querySelector(".right")},CLASSLIST={ACTIVE:"active"},KEY={LEFT:37,RIGHT:39},this.init()}return t.prototype.init=function(){for(var t=this.w.innerHeight,e=[],s=0;s<this.slideContent.length;s++){var i=this.slideContent[s].offsetHeight;t>=i?(this.slides[s].style.height=t+"px",this.slides[s].setAttribute("data-height",t),e.push(t)):(this.slides[s].style.height=i+"px",this.slides[s].setAttribute("data-height",i),e.push(i));for(var a=0,r=0;r<e.length;r++)a+=e[r];a-=e[s],this.slides[s].setAttribute("data-offset",a)}this.par.style.height=e[0]+"px",this.setSlideParam()},t.prototype.setSlideParam=function(){var t,e=getParameterByName("slide");if(""===e)t=this.slides[0],this.w.history.replaceState({},"",this.baseURL+"?slide=1"),t.classList.add(CLASSLIST.ACTIVE);else{t=this.slides[e-1];var s=t.getAttribute("data-height"),i=t.getAttribute("data-offset");t.classList.add("active"),this.el.style.marginTop="-"+i+"px",this.par.style.height=s+"px"}this.setArrows(t)},t.prototype.setArrows=function(t){var e=t.getAttribute("data-count");1==e?(ARROWS.LEFT.classList.remove(CLASSLIST.ACTIVE),ARROWS.RIGHT.classList.add(CLASSLIST.ACTIVE)):e==this.slides.length?(ARROWS.LEFT.classList.add(CLASSLIST.ACTIVE),ARROWS.RIGHT.classList.remove(CLASSLIST.ACTIVE)):(ARROWS.LEFT.classList.add(CLASSLIST.ACTIVE),ARROWS.RIGHT.classList.add(CLASSLIST.ACTIVE)),this.keysMoveSlides(e)},t.prototype.keysMoveSlides=function(t){var e,s=this,i=this.slides.length;document.onkeydown=function(a){a.keyCode==KEY.LEFT||a.which==KEY.LEFT?t>1&&(e=parseInt(t)-1,s.slides[t-1].classList.remove(CLASSLIST.ACTIVE),s.animateSlides(e)):(a.keyCode==KEY.RIGHT||a.which==KEY.RIGHT)&&i>t&&(e=parseInt(t)+1,s.slides[t-1].classList.remove(CLASSLIST.ACTIVE),s.animateSlides(e))}},t.prototype.animateSlides=function(t){var e=this.slides[t-1],s=e.getAttribute("data-offset"),i=e.getAttribute("data-height");this.el.style.marginTop="-"+s+"px",this.par.style.height=i+"px",this.w.history.replaceState({},"",this.baseURL+"?slide="+t),this.setArrows(e)},t}();document.addEventListener("DOMContentLoaded",function(){new Slider(".slideshow")}),window.addEventListener("resize",function(){new Slider(".slideshow")});
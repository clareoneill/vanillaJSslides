function getParameterByName(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}var Slider=function(){function t(t){this.par=document.querySelector(".wrap"),this.el=document.querySelector(t),this.slides=this.el.querySelectorAll(".slide"),this.slideContent=this.el.querySelectorAll(".content"),this.arrows=document.querySelectorAll(".arrows svg"),this.w=window,this.baseURL=this.w.location.protocol+"//"+this.w.location.host+this.w.location.pathname,this.timer=0,this.currSlideCount=1,this.ARROWS={LEFT:this.par.querySelector(".left"),RIGHT:this.par.querySelector(".right")},this.CLASSLIST={ACTIVE:"active"},this.KEY={LEFT:37,RIGHT:39},this.init(),this.winResize()}return t.prototype.init=function(){for(var t,e=this.w.innerHeight,i=[],s=0,r=0;s<this.slideContent.length;s++){t=this.slideContent[s].offsetHeight,e>=t?(this.slides[s].style.height=e+"px",this.slides[s].setAttribute("data-height",e),i.push(e)):(this.slides[s].style.height=t+"px",this.slides[s].setAttribute("data-height",t),i.push(t));for(var h=0,o=0;h<i.length;h++)o+=i[h];r=o-i[s],this.slides[s].setAttribute("data-offset",r)}this.par.style.height=i[0]+"px",this.setSlideParam()},t.prototype.winResize=function(){var t=this;this.w.addEventListener("resize",function(){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(t.init(),300)})},t.prototype.setSlideParam=function(){var t,e=getParameterByName("slide");if(""===e)t=this.slides[0],this.w.history.replaceState({},"",this.baseURL+"?slide=1"),t.classList.add(this.CLASSLIST.ACTIVE);else{t=this.slides[e-1];var i=t.getAttribute("data-height"),s=t.getAttribute("data-offset");t.classList.add("active"),this.el.style.marginTop="-"+s+"px",this.par.style.height=i+"px"}this.setArrows(t)},t.prototype.setArrows=function(t){var e=this,i=this.slides.length;this.currSlideCount=parseInt(t.getAttribute("data-count")),1===this.currSlideCount?(this.ARROWS.LEFT.classList.remove(this.CLASSLIST.ACTIVE),this.ARROWS.RIGHT.classList.add(this.CLASSLIST.ACTIVE)):this.currSlideCount===this.slides.length?(this.ARROWS.LEFT.classList.add(this.CLASSLIST.ACTIVE),this.ARROWS.RIGHT.classList.remove(this.CLASSLIST.ACTIVE)):(this.ARROWS.LEFT.classList.add(this.CLASSLIST.ACTIVE),this.ARROWS.RIGHT.classList.add(this.CLASSLIST.ACTIVE)),document.onkeydown=function(t){t.keyCode==e.KEY.LEFT||t.which==e.KEY.LEFT?e.currSlideCount>1&&e.moveLeft():(t.keyCode==e.KEY.RIGHT||t.which==e.KEY.RIGHT)&&e.currSlideCount<i&&e.moveRight()},document.getElementById("arrow-left").onclick=function(){e.currSlideCount>1&&e.moveLeft()},document.getElementById("arrow-right").onclick=function(){e.currSlideCount<i&&e.moveRight()}},t.prototype.moveLeft=function(){nextSlideCount=parseInt(this.currSlideCount)-1,this.slides[this.currSlideCount-1].classList.remove(this.CLASSLIST.ACTIVE),this.animateSlides(nextSlideCount)},t.prototype.moveRight=function(){nextSlideCount=parseInt(this.currSlideCount)+1,this.slides[this.currSlideCount-1].classList.remove(this.CLASSLIST.ACTIVE),this.animateSlides(nextSlideCount)},t.prototype.animateSlides=function(t){var e=this.slides[t-1],i=e.getAttribute("data-offset"),s=e.getAttribute("data-height");this.el.style.marginTop="-"+i+"px",this.par.style.height=s+"px",this.w.history.replaceState({},"",this.baseURL+"?slide="+t),this.setArrows(e)},t}();document.addEventListener("DOMContentLoaded",function(){new Slider(".slideshow")});